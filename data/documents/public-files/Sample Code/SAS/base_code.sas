**********
********** MCW
********** 01/17/2013
********** SHOW BASE PROGRAM THAT READS IN FORMATS
********** THE FORMATS FILE AND THE DATASET MUST BE
********** LOCATED IN THE FOLDER SPECIFIED IN THE
********** LIBNAME STATEMENT
**********;

%let dir = 'C:\data';  * Change 'C:\data' to location of extracted files;
LIBNAME SASLIB &dir;

/*
To create the initial format catalog, run the following code after assigning the LIBRARY SASLIB above:
The folder that is assigned to SASLIB should include the formatset.sas7bdat dataset.

proc format library=saslib cntlin=saslib.formatset; run;

*/
OPTIONS FMTSEARCH=(SASLIB);

data WORK.SHOW_DATA; SET SASLIB.dr_20130117; RUN;

**********
********** SAMPLE CODE USING THE TIME1 WEIGHTS 
********** AS BOTH MAIN EXPOSURE AND OUTCOME ARE T1 IN EXAMPLES BELOW
**********
********** START SAMPLE CODE
**********
**********;

TITLE 'PROC SURVEYMEANS EXAMPLE: TABLES GENDER';
PROC SURVEYFREQ; 
TABLES GENDER; 
STRATA STRATA_FINAL; 
CLUSTER PSU; 
	WEIGHT WEIGHT_TIME1; 
RUN;

TITLE 'PROC SURVEYMEANS (WITH DOMAIN STATEMENT) EXAMPLE: VAR SCQ090 (HOUSEHOLD SIZE)';
PROC SURVEYMEANS; 
VAR SCQ090; 
STRATA STRATA_FINAL; 
CLUSTER PSU; 
WEIGHT WEIGHT_TIME1; 
DOMAIN CONGRESSIONAL_DISTRICT;
RUN;

TITLE 'PROC SURVEYREG EXAMPLE : MODEL SCQ090 (HOUSEHOLD SIZE) =  AGE_CONSENT COHORT';
PROC SURVEYREG;
MODEL SCQ090=  AGE_CONSENT COHORT / SOLUTION;
STRATA STRATA_FINAL; 
CLUSTER PSU; 
WEIGHT WEIGHT_TIME1;
RUN;

TITLE 'PROC SURVEYLOGISTIC EXAMPLE : MODEL GENDER =  AGE_CONSENT';
PROC SURVEYLOGISTIC; 
MODEL GENDER = AGE_CONSENT; 
	STRATA STRATA_FINAL; 
CLUSTER PSU; 
WEIGHT WEIGHT_TIME1; 
RUN;


TITLE;
**********
********** END SAMPLE CODE
**********
**********;
